<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ChatGPT Mockup Interface</title>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body { background:#0a0c10; color:#e5e5e5; display:flex; align-items:center; justify-content:center; height:100vh; font-family:'Segoe UI',sans-serif; }
        .screen-container { width:700px; height:500px; background:#0d1117; border-radius:12px; box-shadow:0 0 20px rgba(0,0,0,0.7); display:flex; overflow:hidden; position:relative; }
        .chat-wrapper { width:50%; border-right:1px solid #222; display:flex; flex-direction:column; }
        .chat-header { padding:12px; background:#161a1f; text-align:center; font-weight:600; }
        .messages { flex:1; padding:12px; display:flex; flex-direction:column; gap:8px; overflow-y:auto; }
        .message { max-width:70%; padding:8px 12px; border-radius:10px; opacity:0; transform:translateY(10px); animation:fadeIn 0.3s forwards; position:relative; }
        .user { align-self:flex-end; background:#2a3942; }
        .ai { align-self:flex-start; background:#1f2933; box-shadow:0 0 6px rgba(94,138,255,0.6); }
        .typing-indicator { display:flex; gap:4px; margin-left:4px; }
        .typing-indicator span { width:5px; height:5px; background:#5e8aff; border-radius:50%; animation:blink 1s infinite; }
        .typing-indicator span:nth-child(2){animation-delay:.2s}
        .typing-indicator span:nth-child(3){animation-delay:.4s}
        .right-box { width:50%; position:relative; display:flex; flex-direction:column; }
        .anim-box { flex:1; margin:20px; background:#161a1f; border-radius:10px; position:relative; overflow:hidden; box-shadow:0 0 15px rgba(94,138,255,0.5); display:flex; flex-direction:column; align-items:center; justify-content:center; padding:20px; }
        .anim-box.shimmer::before { content:''; position:absolute; top:-100%; left:-100%; width:200%; height:200%; background:linear-gradient(135deg,rgba(255,255,255,0.04),rgba(255,255,255,0.1),rgba(255,255,255,0.04)); transform:rotate(25deg); animation:shimmer 3s infinite; }
        .anim-icon { width:60px; height:60px; fill:#5e8aff; z-index:1; }
        .anim-text { z-index:1; margin-top:10px; font-size:1rem; }
        .deep-panel { display:none; flex-direction:column; background:#0f131a; border-radius:10px; padding:16px; width:100%; height:100%; overflow-y:auto; }
        .deep-header { font-size:1.1rem; margin-bottom:12px; display:flex; align-items:center; gap:8px; }
        .deep-header svg { width:20px; height:20px; fill:#5e8aff; animation:spin 2s linear infinite; }
        .deep-list { margin-left:16px; list-style:disc; margin-bottom:12px; }
        .source-list { display:flex; flex-wrap:wrap; gap:8px; margin-bottom:12px; }
        .source-item { background:#1f2933; padding:6px 10px; border-radius:6px; font-size:.85rem; }
        .deep-code { background:#1a1f26; padding:10px; border-radius:6px; font-family:monospace; font-size:.85rem; }

        /* Added for typing animation */
        .typing-text {
            display: inline-block;
            white-space: nowrap;
            overflow: hidden;
            transform: scaleX(0);
            transform-origin: left;
        }
        @keyframes typing {
            from { transform: scaleX(0) }
            to { transform: scaleX(1) }
        }
        @keyframes fadeIn { to { opacity:1; transform:translateY(0); } }
        @keyframes blink { 0%,80%,100% {opacity:0} 40% {opacity:1} }
        @keyframes shimmer { 0% {transform:translate(-100%,-100%) rotate(25deg)} 100% {transform:translate(100%,100%) rotate(25deg)} }
        @keyframes spin { from {transform:rotate(0)} to {transform:rotate(360deg)} }
    </style>
</head>
<body>
    <div class="screen-container">
        <div class="chat-wrapper">
            <div class="chat-header">ChatGPT Mockup</div>
            <div class="messages" id="messages"></div>
        </div>
        <div class="right-box">
            <div class="anim-box" id="animBox">
                <svg id="animIcon" class="anim-icon" viewBox="0 0 24 24"></svg>
                <div id="animText" class="anim-text">Welcome!</div>
                <div class="deep-panel" id="deepPanel">
                    <div class="deep-header">
                        <svg viewBox="0 0 24 24"><path d="M12 4l1.41 1.41L7.83 11H20v2H7.83l5.58 5.59L12 20l-8-8 8-8z"/></svg>
                        DeepSearch 15s
                    </div>
                    <ul class="deep-list">
                        <li>Understanding the request</li>
                        <li>Screen size is 700Ã—500 px</li>
                        <li>Search animations with source list</li>
                    </ul>
                    <div class="source-list">
                        <div class="source-item">openai.com</div>
                        <div class="source-item">springer.com</div>
                        <div class="source-item">scribbr.com</div>
                        <div class="source-item">ctstate.edu</div>
                    </div>
                    <div class="deep-code">
                        <code>import requests
response = requests.get('https://api.openai.com/v1/...')
print(response.json())</code>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        const messages = document.getElementById('messages');
        const animBox = document.getElementById('animBox');
        const animIcon = document.getElementById('animIcon');
        const animText = document.getElementById('animText');
        const deepPanel = document.getElementById('deepPanel');
        const screenContainer = document.querySelector('.screen-container');
        const icons = {
            img: 'M21 19V5c0-1.1-.9-2-2-2H5C3.9 3 3 3.9 3 5v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM5 19V5h14v14H5zm3-7l2.5 3.01L14.5 11l4.5 6H5l3-4z',
            think: 'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10c.34 0 .67-.03 1-.08v-2.02c-.32.05-.66.1-1 .1-4.42 0-8-3.58-8-8 0-4.42 3.58-8 8-8s8 3.58 8 8c0 1.44-.39 2.78-1.07 3.93l1.46 1.46C21.17 15.14 22 13.63 22 12c0-5.52-4.48-10-10-10z',
            web: 'M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z',
            deep: 'M12 4l1.41 1.41L7.83 11H20v2H7.83l5.58 5.59L12 20l-8-8 8-8z'
        };
        const convo = [
            {from:'user',text:"What's new in GPT-4?"},
            {from:'ai',text:'Overview of features.'},
            {from:'user',text:'Generate an example image.'},
            {action:'img',text:'Generating image...'},
            {from:'ai',text:'Image ready!'},
            {from:'user',text:'Hmm, let me think.'},
            {action:'think',text:'Thinking...'},
            {from:'ai',text:'Got it!'},
            {from:'user',text:'Search the web for references.'},
            {action:'web',text:'Searching web...'},
            {from:'ai',text:'Found sources.'},
            {from:'user',text:'Deep dive details.'},
            {action:'deep',text:'Deep searching...'}
        ];
        let idx=0;
        function nextStep(){
            if(idx>=convo.length){
                // After deep completes, show final messages then restart
                appendMsg('ai','Deep search completed!');
                setTimeout(()=>appendMsg('user','Thanks, that was helpful!'),1000);
                setTimeout(()=>{
                    messages.innerHTML=''; idx=0; animBox.classList.remove('shimmer'); deepPanel.style.display='none'; animText.textContent='Welcome!';
                    setTimeout(nextStep,1000);
                },3000);
                return;
            }
            const m=convo[idx++];
            if(m.from){ appendMsg(m.from,m.text); deepPanel.style.display='none'; animBox.classList.remove('shimmer'); }
            if(m.action){
                animIcon.innerHTML='<path d="'+icons[m.action]+'"/>';
                animText.textContent=m.text;
                if(m.action==='img') animBox.classList.add('shimmer');
                if(m.action==='deep') deepPanel.style.display='flex';
            }
            setTimeout(nextStep, m.from?1000:2000);
        }
        function appendMsg(cls,t){
            const d=document.createElement('div');
            d.className='message '+cls;
            if(cls == 'ai'){
                d.innerHTML = '<span class="typing-text"></span>';
                const typingSpan = d.querySelector('.typing-text');
                typingSpan.textContent = t;
                const duration = t.length * 0.05;
                const steps = t.length;
                typingSpan.style.animation = `typing ${duration}s steps(${steps}, end) forwards`;
                typingSpan.style.animationDelay = '0.3s';
            } else {
                d.textContent = t;
            }
            messages.appendChild(d);
            messages.scrollTop = messages.scrollHeight;
        }
        // Use Intersection Observer to start animation when screenContainer is at least 70% visible
        const observer = new IntersectionObserver((entries) => {
            if (entries[0].isIntersecting && entries[0].intersectionRatio >= 0.7) {
                nextStep();
                observer.unobserve(screenContainer);
            }
        }, { threshold: [0.7] });
        observer.observe(screenContainer);
    </script>
</body>
</html>
