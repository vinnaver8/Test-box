<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DeepSearch AI Assistant Preview</title>
  <!-- Include Tailwind CSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Shimmer effect */
    .shimmer {
      background: linear-gradient(to right, #f6f7f8 8%, #eaeaea 18%, #f6f7f8 33%);
      background-size: 1000px 100%;
      animation: shimmer 2s infinite;
    }
    @keyframes shimmer {
      0% { background-position: -1000px 0; }
      100% { background-position: 1000px 0; }
    }
    /* Blinking dots animation */
    @keyframes blink {
      0%, 100% { opacity: 0; }
      50% { opacity: 1; }
    }
    .blinking-dots {
      animation: blink 1s infinite;
    }
  </style>
</head>
<body class="flex items-center justify-center h-screen">
  <!-- Container -->
  <div class="flex w-[700px] h-[500px] border rounded-lg shadow-lg overflow-hidden">
    <!-- Chat Panel (Left) -->
    <div id="chatPanel" class="w-1/2 bg-white p-4 flex flex-col gap-2 overflow-y-auto">
      <!-- Chat messages will be added here -->
    </div>
    <!-- DeepSearch Panel (Right) -->
    <div id="deepSearchPanel" class="w-1/2 bg-gray-50 p-4 relative overflow-hidden">
      <!-- Search Mode Content -->
      <div id="searchPanel" class="flex flex-col space-y-2">
        <p id="understandingText" class="text-gray-500"></p>
        <p id="searchText" class="text-gray-700">
          Searching for: <span id="searchQuery" class="font-semibold"></span><span id="dots"></span>
        </p>
        <div id="results" class="flex flex-wrap gap-2"></div>
        <p id="completedText" class="text-green-600 font-semibold"></p>
      </div>
      <!-- Image Mode Content -->
      <div id="imagePanel" class="absolute inset-0 flex items-center justify-center hidden">
        <div id="imagePlaceholder" class="w-2/3 h-2/3 bg-gray-200 rounded-md flex items-center justify-center text-gray-500 text-xl hidden">
          ðŸŽ¨ Image Preview
        </div>
        <div id="shimmerOverlay" class="absolute inset-0 shimmer hidden"></div>
      </div>
    </div>
  </div>

  <script>
    const chatPanel = document.getElementById('chatPanel');
    const searchPanel = document.getElementById('searchPanel');
    const imagePanel = document.getElementById('imagePanel');
    const understandingText = document.getElementById('understandingText');
    const searchText = document.getElementById('searchText');
    const searchQueryEl = document.getElementById('searchQuery');
    const dots = document.getElementById('dots');
    const resultsDiv = document.getElementById('results');
    const completedText = document.getElementById('completedText');
    const shimmerOverlay = document.getElementById('shimmerOverlay');
    const imagePlaceholder = document.getElementById('imagePlaceholder');
    
    let mode = 0; // 0 = text search mode, 1 = image generation mode
    
    function clearContent() {
      // Clear chat bubbles
      chatPanel.innerHTML = '';
      // Clear search panel texts and results
      understandingText.textContent = '';
      searchQueryEl.textContent = '';
      dots.textContent = '';
      resultsDiv.innerHTML = '';
      completedText.textContent = '';
      // Hide panels
      searchPanel.style.display = 'none';
      imagePanel.style.display = 'none';
      // Hide shimmer and placeholder
      shimmerOverlay.style.display = 'none';
      imagePlaceholder.style.display = 'none';
    }
    
    function addUserMessage(text) {
      const msg = document.createElement('div');
      msg.className = 'self-end bg-blue-100 text-black px-3 py-2 rounded-md max-w-xs';
      msg.textContent = text;
      chatPanel.appendChild(msg);
    }
    
    function addAssistantMessage(htmlContent) {
      const msg = document.createElement('div');
      msg.className = 'self-start bg-gray-100 text-black px-3 py-2 rounded-md max-w-xs';
      msg.innerHTML = htmlContent;
      chatPanel.appendChild(msg);
    }
    
    function typeText(element, text, delay = 50, callback) {
      let i = 0;
      function typeChar() {
        if (i < text.length) {
          element.textContent += text.charAt(i);
          i++;
          setTimeout(typeChar, delay);
        } else {
          if (callback) callback();
        }
      }
      typeChar();
    }
    
    function runSearchMode() {
      // Show search panel, hide image panel
      searchPanel.style.display = 'flex';
      imagePanel.style.display = 'none';
      searchText.style.display = 'none';
      completedText.textContent = '';
      
      // User query
      addUserMessage("ChatGPT introduction preview");
      // Begin sequence
      setTimeout(() => {
        // Type "Understanding the request"
        understandingText.textContent = '';
        typeText(understandingText, "Understanding the request", 50, () => {
          // After typing, show search query line
          searchText.style.display = 'block';
          const query = "ChatGPT introduction preview";
          typeText(searchQueryEl, query, 50, () => {
            // After typing query, animate dots
            dots.textContent = '...';
            dots.classList.add('blinking-dots');
          });
          // After a delay, show results
          setTimeout(() => {
            dots.classList.remove('blinking-dots');
            dots.textContent = '';
            // Display link boxes
            const links = ["openai.com", "springer.com", "wikipedia.org"];
            links.forEach(link => {
              const a = document.createElement('a');
              a.href = "#";
              a.textContent = link;
              a.className = 'bg-white border border-blue-300 text-blue-600 px-3 py-1 rounded-full shadow-sm hover:bg-blue-50';
              resultsDiv.appendChild(a);
            });
            // After a short pause, show completion and responses
            setTimeout(() => {
              completedText.textContent = "âœ… Deep Search Completed!";
              setTimeout(() => {
                // Assistant's answer referencing links
                const answerHTML = "According to <a href='#' class='underline text-blue-500'>openai.com</a>, ChatGPT is a powerful conversational AI by OpenAI. A study on <a href='#' class='underline text-blue-500'>springer.com</a> also discusses its GPT-3 architecture. It's designed to generate human-like text and assist with various tasks.";
                addAssistantMessage(answerHTML);
                setTimeout(() => {
                  addUserMessage("Thanks, that was helpful!");
                  setTimeout(runCycle, 2000);
                }, 1000);
              }, 500);
            }, 500);
          }, 2000);
        });
      }, 500);
    }
    
    function runImageMode() {
      // Show image panel, hide search panel
      searchPanel.style.display = 'none';
      imagePanel.style.display = 'flex';
      shimmerOverlay.style.display = 'none';
      imagePlaceholder.style.display = 'none';
      imagePanel.classList.remove('hidden');
      
      // User request
      addUserMessage("Generate an image of a sunset over mountains");
      setTimeout(() => {
        shimmerOverlay.style.display = 'block';
        // Simulate generation
        setTimeout(() => {
          shimmerOverlay.style.display = 'none';
          imagePlaceholder.style.display = 'flex';
          setTimeout(() => {
            addAssistantMessage("Here is the image you requested:");
            setTimeout(() => {
              addUserMessage("Thanks, that looks great!");
              setTimeout(runCycle, 2000);
            }, 1000);
          }, 500);
        }, 3000);
      }, 500);
    }
    
    function runCycle() {
      clearContent();
      if (mode === 0) {
        runSearchMode();
      } else {
        runImageMode();
      }
      mode = 1 - mode;
    }
    
    document.addEventListener('DOMContentLoaded', () => {
      runCycle();
    });
  </script>
</body>
</html>
