<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Draggable Pin on Website Content</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
  #draggableContainer {
            position: relative;
            width: 90%;
            max-width: 800px;
            background-color: #0D0D0D;
            padding: 50px;
            box-sizing: border-box;
            min-height: 400px;
            z-index: 1;
            }
        #draggablePinWrapper {
            position: absolute;
            cursor: grab;
            touch-action: none;
            transition: transform 0.3s ease-in-out;
            z-index: 100;
        }

        #draggablePinWrapper.dragging {
            cursor: grabbing;
            transition: none;
        }
        #draggablePinWrapper img {
            pointer-events: none;
        }
    </style>
</head>
<body class="bg-[#0D0D0D] text-white min-h-screen overflow-x-hidden font-sans antialiased">
<section
class="metabrain relative
min-h-[1700px]
overflow-hidden
pt-32">
<div id="draggableContainer" class="relative md:absolute md:top-[1px] md:left-[360px] md:text-left text-80 text-center w-full md:w-auto relative overflow-visible pt-32">
<h1 class="text-4xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-yellow-500 via-red-500 to-pink-500">
  Knowledge at <span class="text-transparent bg-clip-text bg-gradient-to-r from-yellow-500 via-red-500 to-pink-500">Fingertips</span>
</h1>
<p id="snap-target-row" class="max-w-xl mx-auto md:mx-0 mb-12" style="color: #A0A0A0;">
  Huly offers a wide range of features to create and manage your project documentation. Huly's suite of collaborative editing tools boosts team efficiency.
</p>
<div id="main-wrapper">
<div id="draggablePinWrapper"
<div id="draggablePinWrapper"
  class="absolute flex flex-col items-start cursor-grab active:cursor-grabbing select-none float-pin md:top-[20px] md:left-[100px]"
  style="left:1px; top:-20px;">
  <div class="relative w-[66px] h-[66px]">
    <img id="draggablebox"
         src="blue-pin.png"
         alt="pin"
         class="relative shadow-[0_4px_12px_rgba(0,102,204,0.6)] w-full h-full object-contain"/>
  </div>
</div>
</div></div>
</section>
<!--section 3 end-->
    
<script>
const draggableBox = document.getElementById('draggablePinWrapper');
const draggableContainer = document.getElementById('draggableContainer');
const snapTargetRow = document.getElementById('snap-target-row');
let isDragging = false;
let offsetX, offsetY;
function getRect(element) {
return element.getBoundingClientRect();
        }
function snapToTargetRowAndMaintainHorizontalPosition() {
const containerRect = getRect(draggableContainer);
const boxRect = getRect(draggableBox);
if (!snapTargetRow) {
console.error("Snap target row not found.");
return;
}
const targetRowRect = getRect(snapTargetRow);
const targetY = (targetRowRect.top + targetRowRect.height / 2) - containerRect.top - (boxRect.height / 2);
const transformMatrix = new WebKitCSSMatrix(window.getComputedStyle(draggableBox).transform);
let targetX = transformMatrix.m41;
targetX = Math.max(0, Math.min(targetX, containerRect.width - boxRect.width));
draggableBox.style.transform = `translate(${targetX}px, ${targetY}px)`;
draggableBox.style.left = '0px';
draggableBox.style.top = '0px';
        }
draggableBox.addEventListener('mousedown', (e) => {
isDragging = true;
draggableBox.classList.add('dragging');
const boxRect = getRect(draggableBox);
offsetX = e.clientX - boxRect.left;
offsetY = e.clientY - boxRect.top;
        });
draggableContainer.addEventListener('mousemove', (e) => {
if (!isDragging) return;
const containerRect = getRect(draggableContainer);
let newX = e.clientX - offsetX - containerRect.left;
let newY = e.clientY - offsetY - containerRect.top;
const boxRect = getRect(draggableBox);
newX = Math.max(0, Math.min(newX, containerRect.width - boxRect.width));
newY = Math.max(0, Math.min(newY, containerRect.height - boxRect.height));
draggableBox.style.transform = `translate(${newX}px, ${newY}px)`;
        });
draggableContainer.addEventListener('mouseup', () => {
if (isDragging) {
isDragging = false;
draggableBox.classList.remove('dragging');
snapToTargetRowAndMaintainHorizontalPosition();
            }
        });
draggableBox.addEventListener('touchstart', (e) => {
isDragging = true;
draggableBox.classList.add('dragging');
e.preventDefault();
const touch = e.touches[0];
const boxRect = getRect(draggableBox);
offsetX = touch.clientX - boxRect.left;
offsetY = touch.clientY - boxRect.top;
        });
draggableContainer.addEventListener('touchmove', (e) => {
if (!isDragging) return;
e.preventDefault();
const touch = e.touches[0];
const containerRect = getRect(draggableContainer);
let newX = touch.clientX - offsetX - containerRect.left;
let newY = touch.clientY - offsetY - containerRect.top;
const boxRect = getRect(draggableBox);
newX = Math.max(0, Math.min(newX, containerRect.width - boxRect.width));
newY = Math.max(0, Math.min(newY, containerRect.height - boxRect.height));
draggableBox.style.transform = `translate(${newX}px, ${newY}px)`;
        });
draggableContainer.addEventListener('touchend', () => {
if (isDragging) {
isDragging = false;
draggableBox.classList.remove('dragging');
snapToTargetRowAndMaintainHorizontalPosition();
            }
        });
window.onload = () => {
            snapToTargetRowAndMaintainHorizontalPosition();
        };

        // Recalculate snap position on window resize
        window.addEventListener('resize', () => {
            snapToTargetRowAndMaintainHorizontalPosition();
        });
    </script></body>
</html>

