<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <title>8K Ultra 3D DeepSearch Assistant</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: radial-gradient(circle at center, #0a0f2a, #000);
      font-family: 'Segoe UI', sans-serif;
    }
    .container {
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .card-3d { perspective: 2000px; }
    .card-inner { transform-style: preserve-3d; transition: transform 0.8s ease; }
    .card-inner.hovered { transform: rotateY(6deg) rotateX(4deg) scale(1.01); }.panel { width: 40vw; height: 70vh; overflow: hidden; border-radius: 1rem; background: #111827; color: #e5e7eb; box-shadow: 0 20px 60px rgba(0,0,0,0.8); }
.left-panel { margin-right: 2vw; padding: 2rem; overflow-y: auto; }
.right-panel { position: relative; margin-left: 2vw; padding: 2rem; background: #1f2937; display: flex; flex-direction: column; align-items: center; justify-content: center; }

/* Chat bubbles */
.chat-msg { display: flex; margin-bottom: 1.5rem; align-items: flex-end; opacity: 0; transition: opacity 0.5s ease; }
.chat-msg.visible { opacity: 1; }
.avatar { width: 50px; height: 50px; border-radius: 50%; margin-right: 1rem; }
.bubble { max-width: 60%; padding: 1rem 1.2rem; border-radius: 1rem; position: relative; font-size: 1rem; line-height: 1.4; }
.user { flex-direction: row-reverse; }
.user .bubble { background: linear-gradient(135deg, #3b82f6, #60a5fa); color: white; margin-right: 0; margin-left: 1rem; }
.ai .bubble { background: linear-gradient(135deg, #10b981, #34d399); color: white; margin-left: 1rem; }

/* Dots */
.typing { display: flex; align-items: center; gap: 8px; }
.dot { width: 12px; height: 12px; background: #fff; border-radius: 50%; animation: blink 1s infinite ease-in-out; }
.dot:nth-child(2) { animation-delay: 0.2s; }
.dot:nth-child(3) { animation-delay: 0.4s; }
@keyframes blink { 0%,100% { opacity: 0; } 50% { opacity: 1; } }

/* Timeline left */
.step { margin-bottom: 2rem; }
.step h3 { font-size: 1.25rem; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem; }
.step p { font-size: 1rem; color: #cbd5e1; }
.sources { margin-top: 0.5rem; display: flex; gap: 0.5rem; }
.source-icon { width: 24px; height: 24px; background-size: cover; border-radius: 0.5rem; }

/* Image preview */
#preview-image { width: 60%; border-radius: 1rem; box-shadow: 0 20px 40px rgba(0,0,0,0.7); }

  </style>
</head>
<body>
  <div class="container card-3d" onmouseover="toggle3D(true)" onmouseout="toggle3D(false)">
    <div class="card-inner" id="card">
      <!-- Left panel -->
      <div class="panel left-panel">
        <div id="timeline"></div>
      </div><!-- Right panel -->
  <div class="panel right-panel">
    <img src="/mnt/data/preview-image" id="preview-image" alt="Preview Image" />
    <div id="typingDots" class="typing" style="margin-top:2rem; display:none;">
      <div class="dot"></div><div class="dot"></div><div class="dot"></div>
    </div>
  </div>
</div>

<!-- Chat panel overlay -->
<div class="panel right-panel" style="position:absolute; left: 55vw; top:15vh; height:auto; width:30vw; background:transparent; box-shadow:none; overflow:visible;">
  <div id="chatPanel"></div>
</div>

  </div>  <input type="file" id="imgUpload" accept="image/*" style="display:none;" onchange="loadImage(event)">  <script>
    const timeline = document.getElementById('timeline');
    const chatPanel = document.getElementById('chatPanel');
    const typingDots = document.getElementById('typingDots');
    const previewImg = document.getElementById('preview-image');
    let mode = 0, step = 0;

    const steps = [
      { title: 'Normal Chat', text: 'User: Hello, what can you do?', avatar: 'https://i.pravatar.cc/50?img=5' },
      { title: 'Deep Search', text: 'Searching for: ChatGPT features...', sources: ['openai.com','github.com'] },
      { title: 'Thinking Tool', text: 'Analyzing results deeply...', },
      { title: 'Web Search', text: 'Looking up recent GPT-4 papers...', sources: ['arxiv.org'] }
    ];

    function renderTimeline() {
      timeline.innerHTML = '';
      steps.forEach((s,i) => {
        const div = document.createElement('div'); div.className='step';
        div.innerHTML = `<h3>Step ${i+1}: ${s.title}</h3><p>${s.text}</p>`;
        if (s.sources) {
          const srcDiv=document.createElement('div'); srcDiv.className='sources';
          s.sources.forEach(src=>{
            const ic=document.createElement('div'); ic.className='source-icon'; ic.style.backgroundImage=`url(https://www.google.com/s2/favicons?domain=${src})`;
            srcDiv.append(ic);
          }); div.append(srcDiv);
        }
        timeline.append(div);
      });
    }

    function toggle3D(on) { document.getElementById('card').classList.toggle('hovered', on); }

    function loadImage(e) {
      const file=e.target.files[0]; if(!file) return;
      previewImg.src=URL.createObjectURL(file);
    }

    function addChat(msg, fromAI=false) {
      const div=document.createElement('div'); div.className='chat-msg '+(fromAI?'ai':'user');
      const avatar=document.createElement('img'); avatar.className='avatar';
      avatar.src=fromAI? 'https://i.pravatar.cc/50?img=12' : 'https://i.pravatar.cc/50?img=5';
      const bubble=document.createElement('div'); bubble.className='bubble'; bubble.textContent=msg;
      div.append(avatar,bubble); chatPanel.append(div);
      setTimeout(()=>div.classList.add('visible'),50);
      chatPanel.scrollTop=chatPanel.scrollHeight;
    }

    async function runSequence() {
      renderTimeline();
      // 1. Normal chat
      addChat('Hello, what can you do?'); await delay(2000);
      addChat('I can perform deep searches, generate images, think, and browse the web.', true); await delay(2000);
      // 2. Deep Search
      addChat('Search: ChatGPT features'); await delay(2000);
      typingDots.style.display='flex'; await delay(3000);
      typingDots.style.display='none'; addChat('Found detailed info on openai.com and github.com', true); await delay(2000);
      // 3. Thinking
      addChat('Let me think deeply...'); await delay(2000);
      typingDots.style.display='flex'; await delay(3000);
      typingDots.style.display='none'; addChat('I have integrated the insights.', true); await delay(2000);
      // 4. Web Search
      addChat('Search web: GPT-4 papers'); await delay(2000);
      typingDots.style.display='flex'; await delay(3000);
      typingDots.style.display='none'; addChat('I found recent papers on arxiv.org', true); await delay(2000);
      // 5. Image
      typingDots.style.display='none'; triggerImageUpload();
    }

    function delay(ms) { return new Promise(res=>setTimeout(res,ms)); }

    function triggerImageUpload() {
      document.getElementById('imgUpload').click();
    }

    document.getElementById('imgUpload').onchange = async e => {
      loadImage(e);
      addChat('Generating preview image...', false);
      typingDots.style.display='flex'; await delay(3000);
      typingDots.style.display='none'; addChat('Here is the preview image.', true);
    };

    window.onload = runSequence;
  </script></body>
</html>
