<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DeepSearch + ChatGPT Animations</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background: #f3f4f6; display: flex; align-items: center; justify-content: center; height: 100vh; }
    .container { width: 700px; height:500px; display:flex; border-radius:12px; overflow:hidden; box-shadow:0 4px 20px rgba(0,0,0,0.1); }
    .chat { width:50%; background:#ffffff; padding:16px; display:flex; flex-direction:column; gap:8px; overflow-y:auto; }
    .bubble { max-width:70%; padding:8px 12px; border-radius:12px; opacity:0; transform:translateY(10px); transition:opacity .4s, transform .4s; }
    .bubble.show { opacity:1; transform:translateY(0); }
    .user { align-self:flex-end; background:#dbeafe; }
    .ai   { align-self:flex-start; background:#e0f2fe; }
    .panel { width:50%; position:relative; background:#f9fafb; display:flex; align-items:center; justify-content:center; }
    .mode { display:none; flex-direction:column; align-items:center; text-align:center; }
    .mode.active { display:flex; }
    .typing-box { display:flex; gap:6px; background:#e5e7eb; padding:6px 12px; border-radius:9999px; }
    .dot { width:8px; height:8px; background:#10a37f; border-radius:50%; animation:blink 1.2s infinite; }
    @keyframes blink { 0%,100%{opacity:0}50%{opacity:1} }
    .shimmer { width:300px; height:200px; background:linear-gradient(90deg,#e5e7eb 25%,#f3f4f6 50%,#e5e7eb 75%); background-size:200% 100%; animation:shimmer 1.6s infinite; border-radius:8px; }
    @keyframes shimmer { 0%{background-position:-200% 0}100%{background-position:200% 0} }
    .placeholder { width:300px; height:200px; border-radius:8px; object-fit:cover; box-shadow:0 4px 10px rgba(0,0,0,0.1); }
    .timeline { padding:16px; font-family:sans-serif; color:#374151; overflow-y:auto; }
    .timeline ol { counter-reset:step; list-style:none; margin-left:16px; }
    .timeline li { position:relative; padding-left:24px; margin-bottom:16px; }
    .timeline li:before { counter-increment:step; content:counter(step); position:absolute; left:0; top:0; width:20px; height:20px; background:#1f2937; color:white; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:12px;}
    .timeline li:after { content:''; position:absolute; left:9px; top:24px; width:2px; height:calc(100% - 24px); background:#9ca3af; }
    .timeline li:last-child:after { display:none; }
  </style>
</head>
<body>
  <div class="container">
    <!-- Chat panel -->
    <div id="chat" class="chat"></div>

    <!-- Animation panel -->
    <div class="panel">
      <!-- Deep Search Mode -->
      <div id="mode-deep" class="mode">
        <div class="timeline">
          <h3 class="text-lg font-semibold mb-2">DeepSearch 15s</h3>
          <ol id="timelineList"></ol>
        </div>
      </div>
      <!-- Image Generation Mode -->
      <div id="mode-image" class="mode">
        <div class="shimmer" id="imgShimmer"></div>
        <img id="preview-image" class="placeholder hidden" alt="Preview"/>
      </div>
      <!-- Web Search Mode -->
      <div id="mode-web" class="mode">
        <div class="typing-box mb-2">
          <div class="dot"></div><div class="dot" style="animation-delay:.3s"></div><div class="dot" style="animation-delay:.6s"></div>
        </div>
        <div class="text-gray-700">Searching the web for GPT-4 papers…</div>
      </div>
      <!-- Thinking Mode -->
      <div id="mode-think" class="mode">
        <div class="typing-box mb-2">
          <div class="dot"></div><div class="dot" style="animation-delay:.3s"></div><div class="dot" style="animation-delay:.6s"></div>
        </div>
        <div id="thought-bubble" class="bg-white p-4 rounded-lg shadow text-gray-600 max-w-xs italic">
          Integrating insights and context…
        </div>
      </div>
    </div>
  </div>

  <script>
    const chat = document.getElementById('chat');
    const timelineList = document.getElementById('timelineList');
    const modes = {
      deep:  document.getElementById('mode-deep'),
      image: document.getElementById('mode-image'),
      web:   document.getElementById('mode-web'),
      think: document.getElementById('mode-think'),
    };
    const previewImage = document.getElementById('preview-image');
    const imgShimmer = document.getElementById('imgShimmer');

    // Chat helper
    function addBubble(text, isAI=false, delay=500) {
      return new Promise(res => {
        setTimeout(() => {
          const b = document.createElement('div');
          b.className = `bubble ${isAI?'ai':'user'}`;
          b.textContent = text;
          chat.appendChild(b);
          requestAnimationFrame(()=>b.classList.add('show'));
          chat.scrollTop = chat.scrollHeight;
          res();
        }, delay);
      });
    }

    // Timeline helper
    function appendStep(txt, sources=[]) {
      const li = document.createElement('li');
      li.textContent = txt;
      timelineList.appendChild(li);
    }

    // Mode switch
    function showMode(name) {
      Object.values(modes).forEach(m=>m.classList.remove('active'));
      modes[name].classList.add('active');
    }

    let step = 0;
    const steps = [
      () => { // Deep Search
        chat.innerHTML=''; timelineList.innerHTML='';
        addBubble("Please search for ChatGPT overview");
        showMode('deep');
        appendStep("Understanding the request");
        setTimeout(()=> appendStep("Searching: “ChatGPT introduction preview”"),1200);
        setTimeout(()=> {
          appendStep("openai.com, springer.com, wikipedia.org");
          setTimeout(()=> appendStep("✅ Deep Search Completed!"),1200);
        },2400);
      },
      () => { // AI writes result
        addBubble("ChatGPT is a state-of-the-art conversational AI by OpenAI.",true);
        setTimeout(cycle,1500);
      },
      () => { // Image Generation
        addBubble("Generate a futuristic cityscape",false);
        showMode('image');
        previewImage.classList.add('hidden');
        imgShimmer.classList.remove('hidden');
        setTimeout(()=>{
          imgShimmer.classList.add('hidden');
          previewImage.src = 'https://picsum.photos/seed/chatgpt/400/300';
          previewImage.classList.remove('hidden');
        },3000);
      },
      () => { // AI caption
        addBubble("Here’s your cityscape image.",true);
        setTimeout(cycle,1500);
      },
      () => { // Web Search
        addBubble("Find latest GPT-4 research papers",false);
        showMode('web');
        setTimeout(() => {
          addBubble("Found 5 papers on arxiv.org.",true);
          setTimeout(cycle,1500);
        },3000);
      },
      () => { // Thinking
        addBubble("Let me think this through…",false);
        showMode('think');
        setTimeout(() => {
          document.getElementById('thought-bubble').textContent = "Synthesizing key insights…";
          setTimeout(() => {
            addBubble("Based on research, GPT-4 excels at reasoning.",true);
            setTimeout(cycle,1500);
          },3000);
        },2000);
      }
    ];

    function cycle() {
      if (step < steps.length) {
        steps[step++]();
      } else {
        step = 0; cycle();
      }
    }

    // start
    cycle();
  </script>
</body>
</html>
